<ng-container *ngIf="posts$ | async as posts; else loading">
  <ng-container *ngIf="posts.length; else noMessages">
    @for (post of posts; track post.id) {
      <app-post [post]="post"></app-post>
    }
  </ng-container>
</ng-container>

<ng-template #noMessages>
  <div class="no-data">
    <div>Nothing here yet ...</div>
  </div>
</ng-template>

<ng-template #loading>
  <div class="loader">
    <mat-progress-spinner diameter="30" mode="indeterminate"></mat-progress-spinner>
    <div>Decrypting ...</div>
  </div>
</ng-template>
